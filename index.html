<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Falta EMS — Prototype Dashboard</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="stylesheet" href="styles.css">
  <!-- Charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <aside class="sidebar">
    <div class="brand">
      <img src="images/vikram-solar-logo.png" alt="Vikram Solar Logo" class="logo">
      <div class="brand-text">Falta EMS</div>
    </div>
    <nav>
      <a href="#overview" class="active">Overview</a>
      <a href="#inventory">Meter Inventory</a>
      <a href="#locations">Locations</a>
      <a href="#models">Models</a>
    </nav>
    <footer>
      <small>Prototype • Local JSON</small>
    </footer>
  </aside>

  <main>
    <header class="topbar">
      <h1>Vikram Solar — Falta • Energy Meters</h1>
      <div class="actions">
        <button id="downloadCsv" class="btn">Download CSV</button>
        <button id="toggleTheme" class="btn">Toggle Theme</button>
      </div>
    </header>

    <section id="overview" class="overview-section">
      <section class="kpis">
        <div class="kpi">
          <div class="kpi-label">Total Meters</div>
          <div class="kpi-value" id="kpi-total">—</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">New Meters Required</div>
          <div class="kpi-value" id="kpi-new">—</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Comm Ports — YES</div>
          <div class="kpi-value" id="kpi-comm-yes">—</div>
        </div>
        <div class="kpi">
          <div class="kpi-label">Comm Ports — NO</div>
          <div class="kpi-value" id="kpi-comm-no">—</div>
        </div>
      </section>

      <section class="grid-2">
        <div class="card">
          <h2>Models Breakdown</h2>
          <div class="chart-container">
            <canvas id="chartModels" height="160"></canvas>
          </div>
        </div>
        <div class="card">
          <h2>Communication Port Availability</h2>
          <div class="chart-container">
            <canvas id="chartComm" height="160"></canvas>
          </div>
        </div>
      </section>
    </section>

    <section class="card" id="inventory">
      <h2>Data Tables</h2>
      <div class="tabs">
        <button class="tab-btn active" data-table="meters">Meters</button>
        <button class="tab-btn" data-table="panels">Panels</button>
      </div>
      <div class="toolbar">
        <input type="text" id="searchInput" placeholder="Search..." />
        <span id="rowCount"></span>
      </div>
      <div class="table-wrap" id="metersTable">
        <table>
          <thead>
            <tr>
              <th>SL</th>
              <th>Location</th>
              <th>Panel</th>
              <th>Meter Name</th>
              <th>Model</th>
              <th>Serial</th>
              <th>Comm</th>
              <th>New?</th>
              <th>Equipment</th>
              <th>Remarks</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="table-wrap" id="panelsTable" style="display: none;">
        <table>
          <thead>
            <tr>
              <th>Panel</th>
              <th>SL</th>
              <th>Equipment</th>
              <th>Capacity</th>
              <th>Power</th>
              <th>Quantity</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section class="card" id="locations">
      <h2>Meters by Location</h2>
      <canvas id="chartLocations" height="180"></canvas>
    </section>

    <section class="card" id="models">
      <h2>Meters by Panel</h2>
      <canvas id="chartPanels" height="180"></canvas>
    </section>

    <footer class="footer">
      <small>Built for prototype review. For production, wire this UI to your EMS API.</small>
    </footer>
  </main>

  <script src="app.js"></script>
</body>
</html>
